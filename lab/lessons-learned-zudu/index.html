<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <title> 5 Lessons Learned Building an Angular App with Node.js API &middot; Jorin&#39;s Page </title>

  
  <link rel="stylesheet" href="http://jorin.me/css/poole.css">
  <link rel="stylesheet" href="http://jorin.me/css/syntax.css">
  <link rel="stylesheet" href="http://jorin.me/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.ico">

  
  <link href="" rel="alternate" type="application/rss+xml" title="Jorin&#39;s Page" />
</head>

<body>

<div class="sidebar">
    <div class="container sidebar-sticky">
        <div class="sidebar-about">
            <a href="http://jorin.me">
                <h1>Jorin&#39;s Page</h1>
            </a>
            <p class="lead">
                I build stuff for the web.
            </p>
        </div>

        <ul class="sidebar-nav">
            <li><a href="http://jorin.me">Lab</a></li>
            <li><a href="http://jorin.me/ideas">Ideas</a></li>
        </ul>

        <p>
            <a href="https://github.com/jorin-vogel">Github</a>
            <a href="https://twitter.com/jorin_vogel">Twitter</a>
            <a href="mailto:hi@jorin.me">Mail</a>
        </p>

    </div>
</div>


<div class="content container">



<div class="post">
    <h1>5 Lessons Learned Building an Angular App with Node.js API</h1>
    <span class="post-date">Thu, Jun 12, 2014</span>
    

<p><a href="http://www.zudu.cc/">
<img
    src="http://jorin.me/img/zudu-logo.png"
    alt="Zudu"
/>
 </a></p>

<p>At <a href="http://sope.io/">sope.io</a> we built a product discovery app, <a href="http://www.zudu.cc/">Zudu</a>.</p>

<p>I want to sum up some things I learned along the way here:</p>

<h3 id="toc_0">Choose the Right Framework</h3>

<p>The first version of Zudu was built using <a href="http://marionettejs.com/">Backbone Marionette</a>. We decided to rewrite it because Marionette turned out as unnecessary abstraction and we often had to work around it.</p>

<p>Writing the <a href="https://angularjs.org/">Angular</a> version was straight forward and we ended up with less than half of lines of code. Also the minifed version is a little smaller.</p>

<p>Sure, it&rsquo;s easier to write good code if you do it the second time, but the <em>Angular Way</em> seems to be a better fit for this kind of application.
<a href="http://backbonejs.org/">Backbone</a> is still a good tool for other usecases.
Both have their strengths.</p>

<h3 id="toc_1">Design Your API Carefully</h3>

<p>Building a proper REST API makes the required client-side code for syncing the data quiet simple and HTTP status codes map nicely to appropriate messages for the user.
A good API Design can make a big difference.</p>

<h3 id="toc_2">Build Pluggable Components</h3>

<p>If you happen to build your own node.js framework around <a href="http://expressjs.com/">express.js</a> make use of the pluggable nature of express. You can build independent components and just plug them in at whatever url you want.</p>

<p><img
    src="http://jorin.me/img/zudu-middlewares.png"
    alt="Our"
/></p>

<h3 id="toc_3">Skip Unnecessary Abstractions</h3>

<p><a href="http://www.mongodb.org/">MongoDB</a> is a powerful and flexible database and it served use well. However, looking back I would skip the <a href="http://mongoosejs.com/">mongoose</a> abstraction. The main thing mongoose gives you is validation via schemas. This makes it more familiar if you mainly worked with relational databases before. But it&rsquo;s not really needed for MongoDB. Having schemas you tend to think relational again.</p>

<p>You are better off just using the native driver for MongoDB and keep the hands from abstractions you don&rsquo;t need.</p>

<h3 id="toc_4">Write Many Small Functions</h3>

<p>For most server components the API is the entrypoint. The method handlers get easily big and bloaded with asynchronous code. Make sure to separate different concerns in their own functions to avoid too many nested callbacks.</p>

<p>Also separate buisness logic from the API completely where possible.</p>

<h3 id="toc_5">Wrapping Up</h3>

<p>These might look like basic software design principles, but working with new technologies we end up running in the same pitfalls over and over again.</p>

<p>It&rsquo;s not an easy task to find the right way to use general principles in an idomatic way for a certain software stack.</p>

</div>


</div>

</body>
</html>

